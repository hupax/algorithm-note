å¤ªå¥½äº†ï¼Œé‚£æˆ‘ä»¬å¯ä»¥é’ˆå¯¹â€œå¤šä¸ªåŒºé—´æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•°å¼‚æˆ–ç­‰äºxâ€çš„åœºæ™¯ï¼Œç»™å‡ºä¸€ä¸ª**æè‡´æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ**
ï¼Œä¸‹é¢æ˜¯ä¸¤ä¸ªæ¨èæ–¹æ³•ï¼š

---

## âœ… æ–¹æ³•ä¸€ï¼šè«é˜Ÿç®—æ³• + å“ˆå¸Œè¡¨ï¼ˆæ¨èï¼‰

### ğŸ“Œ æ ¸å¿ƒæ€æƒ³ï¼š

åˆ©ç”¨è«é˜Ÿç®—æ³•å°†å¤šä¸ªåŒºé—´æŸ¥è¯¢**ç¦»çº¿æ’åºå¤„ç†**ï¼Œåœ¨å·¦å³æŒ‡é’ˆç§»åŠ¨è¿‡ç¨‹ä¸­ç”¨**å“ˆå¸Œè¡¨ç»Ÿè®¡å¼‚æˆ–åŒ¹é…å€¼æ˜¯å¦å­˜åœ¨
**ã€‚

### ğŸ“Œ çŠ¶æ€ç»´æŠ¤é€»è¾‘ï¼š

1. ç»´æŠ¤ä¸€ä¸ªå“ˆå¸Œè¡¨ `freq[a[i]]` è¡¨ç¤ºå½“å‰åŒºé—´æ¯ä¸ªæ•°çš„å‡ºç°æ¬¡æ•°ã€‚
2. æ¯æ¬¡åœ¨æ·»åŠ ä¸€ä¸ªæ•° `a[i]` æ—¶ï¼Œæ£€æŸ¥ `freq[a[i] ^ x] > 0` æ˜¯å¦æˆç«‹ã€‚
3. å¦‚æœæˆç«‹ï¼Œå°±è¯´æ˜å·²ç»æœ‰å¦ä¸€ä¸ªæ•°æ»¡è¶³ `a[i] ^ a[j] == x`ã€‚

---

### âš¡ æ¨¡æ¿çº§ä»£ç ï¼ˆç«èµ›é£æ ¼ï¼‰ï¼š

```cpp
#include <bits/stdc++.h>
using namespace std;
const int maxn = 1e5 + 5;
int a[maxn], n, m, x, block;

struct Query {
    int l, r, id;
    bool operator<(const Query &b) const {
        if (l / block != b.l / block) return l < b.l;
        return ((l / block) & 1) ? (r < b.r) : (r > b.r);  // å¥‡å¶ä¼˜åŒ–
    }
} q[maxn];

int freq[1 << 20];  // é¢„ä¼°æœ€å¤§å€¼èŒƒå›´
bool hasPair[maxn];
int matchCount = 0;

void add(int val) {
    matchCount += freq[val ^ x];
    freq[val]++;
}
void remove(int val) {
    freq[val]--;
    matchCount -= freq[val ^ x];
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cin >> n >> m >> x;
    block = sqrt(n);
    for (int i = 1; i <= n; i++) cin >> a[i];
    for (int i = 0; i < m; i++) {
        cin >> q[i].l >> q[i].r;
        q[i].id = i;
    }
    sort(q, q + m);

    int L = 1, R = 0;
    for (int i = 0; i < m; i++) {
        while (R < q[i].r) add(a[++R]);
        while (L > q[i].l) add(a[--L]);
        while (R > q[i].r) remove(a[R--]);
        while (L < q[i].l) remove(a[L++]);
        hasPair[q[i].id] = (matchCount > 0);
    }
    for (int i = 0; i < m; i++) cout << (hasPair[i] ? "YES\n" : "NO\n");
    return 0;
}
```

---

### ğŸ“Œ æ—¶é—´å¤æ‚åº¦ï¼š

- æ’åºï¼šO(m log m)
- æŒ‡é’ˆç§»åŠ¨ï¼šO(nâˆšm)
- æ€»ä½“æ•ˆç‡è¿œé«˜äºæš´åŠ›å“ˆå¸Œ O(nÂ·m)

---

## âœ… æ–¹æ³•äºŒï¼ˆåªé€‚ç”¨äºå€¼åŸŸè¾ƒå°ï¼‰ï¼šå‰ç¼€å¼‚æˆ– + Trie

å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æè‡´ä¼˜åŒ–ï¼Œå¹¶ä¸”**å€¼åŸŸè¾ƒå°ï¼ˆæ¯”å¦‚ <= 1e6ï¼‰**ï¼Œå¯ä»¥å»ºä¸€ä¸ª**å‰ç¼€å¼‚æˆ–å’Œæ•°ç»„ + Trieæ ‘**
ï¼Œå¤„ç†**è¿ç»­å‰ç¼€å¼‚æˆ–å’Œä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªå¼‚æˆ–å€¼å·®ä¸ºx**çš„åœºæ™¯ï¼Œä½†è¿™ä¸ªé€‚åˆå­æ•°ç»„å¼‚æˆ–æ¨¡å‹ï¼Œä¸å®Œå…¨ç­‰ä»·äºâ€œä»»æ„ä¸¤ä¸ªæ•°å¼‚æˆ–ä¸ºxâ€ã€‚

---

### âœ… ç»“è®ºï¼š

| æ¡ä»¶ | æ¨èæ–¹æ³• |
|-------|------------|
| åŒºé—´å°‘ | æš´åŠ›å“ˆå¸Œ |
| åŒºé—´å¤š | âœ…è«é˜Ÿ + å“ˆå¸Œ âœ…ï¼ˆæ¨èï¼‰ |
| è¿ç»­å­æ•°ç»„å¼‚æˆ– | å‰ç¼€å¼‚æˆ– + å“ˆå¸Œ |

---

å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å†å¸®ä½ å°è£…æˆé€šç”¨æ¨¡æ¿å‡½æ•°ã€ç”Ÿæˆæµ‹è¯•æ•°æ®ã€è‡ªåŠ¨éªŒè¯ç­”æ¡ˆï¼Œç”šè‡³ä¼˜åŒ–å¸¸æ•°ã€‚è¦ä¸è¦æˆ‘å†å‡çº§ä¸€ä¸‹ï¼ŸğŸ’¥