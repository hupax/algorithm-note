åœ¨C++ä¸­ï¼Œæ‰¾å‡ºç¬¬ K å¤§çš„å¼‚æˆ–åæ ‡å€¼çš„ç¨‹åºå¯ä»¥é€šè¿‡å‡ ç§æ–¹å¼è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„ä¼˜åŒ–æ–¹æ³•ï¼š

1. **é¿å…é‡å¤è®¡ç®—**:
   é€šè¿‡ä½¿ç”¨å‰ç¼€å¼‚æˆ–å’Œï¼ˆprefix XOR
   sumï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…åœ¨æ¯ä¸ªåæ ‡å¤„é‡å¤è®¡ç®—å¼‚æˆ–å€¼ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬åªéœ€è¦è®¡ç®—ä¸€æ¬¡æ¯è¡Œå’Œæ¯åˆ—çš„å¼‚æˆ–å€¼ï¼Œç„¶åä½¿ç”¨è¿™äº›å€¼æ¥è®¡ç®—ä»»ä½•åæ ‡çš„å¼‚æˆ–å€¼ã€‚

2. **ç©ºé—´ä¼˜åŒ–**:
   å¦‚æœä¸éœ€è¦ä¿ç•™æ•´ä¸ªå¼‚æˆ–çŸ©é˜µï¼Œå¯ä»¥åªä½¿ç”¨ä¸€ç»´æ•°ç»„æ¥å­˜å‚¨å½“å‰è¡Œçš„å¼‚æˆ–å€¼ï¼Œä»è€Œå‡å°‘ç©ºé—´å¤æ‚åº¦ã€‚

3. **ä½¿ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•**:
   è€Œä¸æ˜¯å¯¹æ‰€æœ‰å¼‚æˆ–å€¼è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼ˆå¦‚å¿«é€Ÿæ’åºçš„å˜ä½“ï¼‰æ¥æ‰¾åˆ°ç¬¬
   K å¤§çš„å€¼ï¼Œè¿™æ ·å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦ä» O(n log n) é™ä½åˆ° O(n)ã€‚

4. **ä½è¿ç®—ä¼˜åŒ–**:
   åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä½è¿ç®—æŠ€å·§æ¥åŠ é€Ÿå¼‚æˆ–è¿ç®—ã€‚

5. **å¤šçº¿ç¨‹æˆ–å¹¶è¡Œå¤„ç†**:
   å¦‚æœçŸ©é˜µéå¸¸å¤§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¹¶è¡Œå¤„ç†æ¥åŠ é€Ÿè®¡ç®—è¿‡ç¨‹ã€‚

ä»¥ä¸‹æ˜¯è€ƒè™‘äº†ä»¥ä¸Šä¼˜åŒ–çš„C++ä»£ç ç¤ºä¾‹ï¼š

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <numeric>

// å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼Œç”¨äºæ‰¾åˆ°ç¬¬ K å¤§çš„å…ƒç´ 
int quickSelect(std::vector<int>& nums, int left, int right, int k) {
    if (left == right) return nums[left];
    int pivotIndex = left + (right - left) / 2;
    pivotIndex = partition(nums, left, right, pivotIndex);
    if (k == pivotIndex) {
        return nums[k];
    } else if (k < pivotIndex) {
        return quickSelect(nums, left, pivotIndex - 1, k);
    } else {
        return quickSelect(nums, pivotIndex + 1, right, k);
    }
}

// åˆ†åŒºå‡½æ•°ï¼Œç”¨äºå¿«é€Ÿé€‰æ‹©ç®—æ³•
int partition(std::vector<int>& nums, int left, int right, int pivotIndex) {
    int pivotValue = nums[pivotIndex];
    std::swap(nums[pivotIndex], nums[right]);
    int storeIndex = left;
    for (int i = left; i <= right; i++) {
        if (nums[i] > pivotValue) {
            std::swap(nums[storeIndex], nums[i]);
            storeIndex++;
        }
    }
    std::swap(nums[right], nums[storeIndex]);
    return storeIndex;
}

// è®¡ç®—äºŒç»´çŸ©é˜µä¸­ç¬¬ K å¤§çš„å¼‚æˆ–åæ ‡å€¼çš„å‡½æ•°
int kthLargestValue(std::vector<std::vector<int>>& matrix, int k) {
    int m = matrix.size(), n = matrix[0].size();
    std::vector<int> xorValues;
    xorValues.reserve(m * n);

    // è®¡ç®—æ¯ä¸ªåæ ‡çš„å¼‚æˆ–å€¼
    for (int i = 0; i < m; ++i) {
        for (int j = 0; j < n; ++j) {
            if (i > 0) matrix[i][j] ^= matrix[i-1][j];
            if (j > 0) matrix[i][j] ^= matrix[i][j-1];
            if (i > 0 && j > 0) matrix[i][j] ^= matrix[i-1][j-1];
            xorValues.push_back(matrix[i][j]);
        }
    }

    // ä½¿ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•æ‰¾å‡ºç¬¬ K å¤§çš„å€¼
    return quickSelect(xorValues, 0, xorValues.size() - 1, k - 1);
}

// ä¸»å‡½æ•°
int main() {
    std::vector<std::vector<int>> matrix = {{5, 2}, {1, 6}};
    int k = 2;
    std::cout << "ç¬¬ " << k << " å¤§çš„å¼‚æˆ–åæ ‡å€¼æ˜¯: " << kthLargestValue(matrix, k) << std::endl;
    return 0;
}
```

è¿™ä¸ªä»£ç ç¤ºä¾‹ä½¿ç”¨äº†å¿«é€Ÿé€‰æ‹©ç®—æ³•æ¥æ‰¾åˆ°ç¬¬ K
å¤§çš„å€¼ï¼Œè€Œä¸æ˜¯å¯¹æ‰€æœ‰å€¼è¿›è¡Œæ’åºã€‚è¿™æ ·å¯ä»¥åœ¨å¹³å‡æƒ…å†µä¸‹æé«˜æ•ˆç‡ï¼Œå°¤å…¶æ˜¯å½“
K ç›¸å¯¹è¾ƒå°æˆ–è¾ƒå¤§æ—¶ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜é€šè¿‡åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ç›´æ¥ä¿®æ”¹åŸçŸ©é˜µæ¥å‡å°‘ç©ºé—´ä½¿ç”¨ã€‚

å¦‚æœä½ éœ€è¦è¿›ä¸€æ­¥çš„è§£é‡Šæˆ–æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚ğŸ˜Š
